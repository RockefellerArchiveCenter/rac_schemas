{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"$id": "rights_statement.json",
	"type": "object",
	"title": "RAC JSON Schema",
	"allOf": [{
		"$id": "#/rights_statement",
		"type": "object",
		"title": "PREMIS Rights Statement",
		"required": [
			"rights_basis",
			"rights_granted"
		],
		"properties": {
			"rights_identifier": {
				"$id": "#/properties/rights_identifier",
				"type": "string",
				"title": "Rights Statement Identifier",
				"minLength": 1
			},
			"rights_basis": {
				"$id": "#/properties/rights_basis",
				"type": "string",
				"title": "Rights Basis Declaration",
				"enum": [
					"copyright",
					"license",
					"other",
					"statute"
				],
				"examples": [
					"other"
				]
			},
			"rights_granted": {
				"type": "array",
				"items": {
					"allOf": [{
						"$ref": "rights_granted.json"
					}]
				}
			},
			"start_date": {
				"$id": "#/properties/start_date",
				"type": ["string", "null"],
				"title": "Rights Begin Date",
				"examples": [
					"2019-08-23"
				]
			},
			"end_date": {
				"$id": "#/properties/end_date",
				"type": ["string", "null"],
				"title": "Rights End Date",
				"examples": [
					"2019-08-23",
					"open"
				]
			},
			"note": {
				"$id": "#/properties/note",
				"type": "array",
				"title": "Rights Note",
				"items": {
					"type": "string"
				}
			},
			"other_basis": {
				"$id": "#/properties/other_basis",
				"type": "string",
				"title": "Other Rights Basis",
				"enum": [
					"donor",
					"policy"
				]
			}
		},
		"oneOf": [
			{ "allOf": [ { "$ref": "rights_copyright.json#/properties" } ] },
			{ "allOf": [ { "$ref": "rights_license.json#/properties" } ] },
			{ "allOf": [ { "$ref": "#/properties/other_basis" } ] },
			{ "allOf": [ { "$ref": "rights_statute.json#/properties" } ] }
		],
		"if": {
			"rights_granted.json#/properties/grant_restriction": { "const": "conditional" }
		},
		"then": {
			"required": [ "rights_basis", "rights_granted", "note" ]
		},
		"else": {
			"required": [ "rights_basis", "rights_granted" ]
		}
	}]
}
